{"version":3,"sources":["webpack:///src/components/secondMes.vue","webpack:///./src/components/secondMes.vue?f6c2","webpack:///./src/components/secondMes.vue"],"names":["components_secondMes","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","inline","align","label-position","label-width","model","searchForm","rules","label","prop","staticStyle","width","value-format","type","placeholder","value","callback","$$v","$set","expression","_v","_l","item","key","margin-left","icon","on","click","onSearch","$event","onClear","directives","name","rawName","border","stripe","data","tableData3","empty-text","tooltip-effect","selection-change","handleSelectionChange","span","disabled","btndisabled","size","freeze","unfreeze","discard","background","page-size","pageSize","page-sizes","layout","current-page","currentPage","total","totalCount","current-change","currentChange","size-change","sizeChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","loading","site","projects","items","holes","sfcStatus","starttime","endtime","projectName","itemName","modelNum","hole","machine","required","message","trigger","multipleSelection","mounted","$route","query","info","initDictionary","methods","_this","getRequest","then","resp","status","loadData","_this2","params","pageNum","list","_currentChange","val","length","_this3","$refs","validate","valid","resetFields","confirmAndAct","action","_this4","handles","map","s","handle","join","actionStr","$prompt","dangerouslyUseHTMLString","_ref","tag","comment","qty","postRequest","code","$message","error","ssrContext","__webpack_exports__"],"mappings":"0HAqGA,IClGAA,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,WAAgBG,IAAA,aAAAD,YAAA,mBAAAE,OAAuDC,QAAA,EAAAC,MAAA,OAAAC,iBAAA,QAAAC,cAAA,OAAAC,MAAAb,EAAAc,WAAAC,MAAAf,EAAAe,SAAqHX,EAAA,gBAAqBI,OAAOQ,MAAA,MAAAC,KAAA,eAAkCb,EAAA,kBAAuBc,aAAaC,MAAA,SAAgBX,OAAQY,eAAA,sBAAAC,KAAA,WAAAC,YAAA,QAA4ET,OAAQU,MAAAvB,EAAAc,WAAA,UAAAU,SAAA,SAAAC,GAA0DzB,EAAA0B,KAAA1B,EAAAc,WAAA,YAAAW,IAA2CE,WAAA,2BAAoC,GAAA3B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAqCI,OAAOQ,MAAA,IAAAC,KAAA,aAA8Bb,EAAA,kBAAuBc,aAAaC,MAAA,SAAgBX,OAAQY,eAAA,sBAAAC,KAAA,WAAAC,YAAA,QAA4ET,OAAQU,MAAAvB,EAAAc,WAAA,QAAAU,SAAA,SAAAC,GAAwDzB,EAAA0B,KAAA1B,EAAAc,WAAA,UAAAW,IAAyCE,WAAA,yBAAkC,GAAA3B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAqCI,OAAOQ,MAAA,MAAAC,KAAA,iBAAoCb,EAAA,aAAkBI,OAAOc,YAAA,OAAoBT,OAAQU,MAAAvB,EAAAc,WAAA,YAAAU,SAAA,SAAAC,GAA4DzB,EAAA0B,KAAA1B,EAAAc,WAAA,cAAAW,IAA6CE,WAAA,2BAAsC3B,EAAA6B,GAAA7B,EAAA,kBAAA8B,GAAsC,OAAA1B,EAAA,aAAuB2B,IAAAD,EAAAtB,OAAgBQ,MAAAc,EAAAP,MAAAO,SAA6B,GAAA9B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAsCI,OAAOQ,MAAA,KAAAC,KAAA,cAAgCb,EAAA,aAAkBI,OAAOc,YAAA,MAAmBT,OAAQU,MAAAvB,EAAAc,WAAA,SAAAU,SAAA,SAAAC,GAAyDzB,EAAA0B,KAAA1B,EAAAc,WAAA,WAAAW,IAA0CE,WAAA,wBAAmC3B,EAAA6B,GAAA7B,EAAA,eAAA8B,GAAmC,OAAA1B,EAAA,aAAuB2B,IAAAD,EAAAtB,OAAgBQ,MAAAc,EAAAP,MAAAO,SAA6B,GAAA9B,EAAA4B,GAAA,KAAAxB,EAAA,MAAAJ,EAAA4B,GAAA,KAAAxB,EAAA,gBAA2DI,OAAOQ,MAAA,MAAAC,KAAA,cAAiCb,EAAA,YAAiBI,OAAOc,YAAA,OAAoBT,OAAQU,MAAAvB,EAAAc,WAAA,SAAAU,SAAA,SAAAC,GAAyDzB,EAAA0B,KAAA1B,EAAAc,WAAA,WAAAW,IAA0CE,WAAA,0BAAmC,GAAA3B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAqCI,OAAOQ,MAAA,KAAAC,KAAA,UAA4Bb,EAAA,aAAkBI,OAAOc,YAAA,MAAmBT,OAAQU,MAAAvB,EAAAc,WAAA,KAAAU,SAAA,SAAAC,GAAqDzB,EAAA0B,KAAA1B,EAAAc,WAAA,OAAAW,IAAsCE,WAAA,oBAA+B3B,EAAA6B,GAAA7B,EAAA,eAAA8B,GAAmC,OAAA1B,EAAA,aAAuB2B,IAAAD,EAAAtB,OAAgBQ,MAAAc,EAAAP,MAAAO,SAA6B,GAAA9B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAsCI,OAAOQ,MAAA,KAAAC,KAAA,aAA+Bb,EAAA,YAAiBI,OAAOc,YAAA,MAAmBT,OAAQU,MAAAvB,EAAAc,WAAA,QAAAU,SAAA,SAAAC,GAAwDzB,EAAA0B,KAAA1B,EAAAc,WAAA,UAAAW,IAAyCE,WAAA,yBAAkC,GAAA3B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAqCI,OAAOQ,MAAA,KAAAC,KAAA,eAAiCb,EAAA,aAAkBI,OAAOc,YAAA,MAAmBT,OAAQU,MAAAvB,EAAAc,WAAA,UAAAU,SAAA,SAAAC,GAA0DzB,EAAA0B,KAAA1B,EAAAc,WAAA,YAAAW,IAA2CE,WAAA,yBAAoC3B,EAAA6B,GAAA7B,EAAA,mBAAA8B,GAAuC,OAAA1B,EAAA,aAAuB2B,IAAAD,EAAAC,IAAAvB,OAAoBQ,MAAAc,EAAAP,YAAAO,EAAAC,WAAuC,GAAA/B,EAAA4B,GAAA,KAAAxB,EAAA,gBAAAA,EAAA,aAAsDc,aAAac,cAAA,QAAqBxB,OAAQyB,KAAA,iBAAAZ,KAAA,WAAyCa,IAAKC,MAAAnC,EAAAoC,YAAsBpC,EAAA4B,GAAA,QAAA5B,EAAA4B,GAAA,KAAAxB,EAAA,aAA6CI,OAAOyB,KAAA,gBAAAZ,KAAA,WAAwCa,IAAKC,MAAA,SAAAE,GAAyBrC,EAAAsC,cAAgBtC,EAAA4B,GAAA,gBAAA5B,EAAA4B,GAAA,KAAAxB,EAAA,YAAoDmC,aAAaC,KAAA,UAAAC,QAAA,YAAAlB,MAAAvB,EAAA,QAAA2B,WAAA,YAA4EnB,OAASkC,OAAA,GAAAC,OAAA,GAAAC,KAAA5C,EAAA6C,WAAAC,aAAA,iBAAAC,iBAAA,QAAoGb,IAAKc,mBAAAhD,EAAAiD,yBAA8C7C,EAAA,mBAAwBI,OAAOa,KAAA,YAAAX,MAAA,SAAAS,MAAA,QAAkDnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,MAAAD,MAAA,KAAAN,MAAA,SAAAS,MAAA,SAA0DnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,cAAAD,MAAA,MAAAN,MAAA,SAAAS,MAAA,SAAmEnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,WAAAD,MAAA,KAAAN,MAAA,OAAAS,MAAA,QAA4DnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,QAAAD,MAAA,KAAAN,MAAA,OAAAS,MAAA,QAAyDnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,OAAAD,MAAA,KAAAN,MAAA,OAAAS,MAAA,QAAwDnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,SAAAD,MAAA,KAAAN,MAAA,OAAAS,MAAA,SAA2DnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,YAAAD,MAAA,KAAAN,MAAA,OAAAS,MAAA,QAA6DnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,YAAAD,MAAA,OAAAN,MAAA,OAAAS,MAAA,SAAgEnB,EAAA4B,GAAA,KAAAxB,EAAA,mBAAoCI,OAAOS,KAAA,gBAAAD,MAAA,UAAAN,MAAA,WAAyD,GAAAV,EAAA4B,GAAA,KAAAxB,EAAA,MAAAJ,EAAA4B,GAAA,KAAAxB,EAAA,UAAAA,EAAA,UAAiEI,OAAO0C,KAAA,EAAAxC,MAAA,UAAyBN,EAAA,aAAkBI,OAAO2C,SAAAnD,EAAAoD,YAAA/B,KAAA,UAAAgC,KAAA,SAA2DnB,IAAKC,MAAAnC,EAAAsD,UAAoBtD,EAAA4B,GAAA,UAAA5B,EAAA4B,GAAA,KAAAxB,EAAA,aAA+CI,OAAO2C,SAAAnD,EAAAoD,YAAA/B,KAAA,UAAAgC,KAAA,SAA2DnB,IAAKC,MAAAnC,EAAAuD,YAAsBvD,EAAA4B,GAAA,UAAA5B,EAAA4B,GAAA,KAAAxB,EAAA,aAA+CI,OAAO2C,SAAAnD,EAAAoD,YAAA/B,KAAA,SAAAgC,KAAA,SAA0DnB,IAAKC,MAAAnC,EAAAwD,WAAqBxD,EAAA4B,GAAA,cAAA5B,EAAA4B,GAAA,KAAAxB,EAAA,UAAgDI,OAAO0C,KAAA,GAAAxC,MAAA,WAA2BN,EAAA,iBAAsBI,OAAOiD,WAAA,GAAAC,YAAA1D,EAAA2D,SAAAC,cAAA,gBAAAC,OAAA,kCAAAC,eAAA9D,EAAA+D,YAAAC,MAAAhE,EAAAiE,YAA2K/B,IAAKgC,iBAAAlE,EAAAmE,cAAAC,cAAApE,EAAAqE,eAAiE,YAE11KC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,EFqFA7B,KADA,WAEA,OACA8B,SAAA,EACAT,YAAA,EACAF,YAAA,EACAJ,SAAA,GACAgB,KAAA,GACAC,YACAC,SACAC,SACAC,aACAjE,YACAkE,UAAA,GACAC,QAAA,GACAC,YAAA,GACAC,SAAA,GACAC,SAAA,GACAC,KAAA,GACAC,QAAA,IAEAvE,OACAiE,YACAO,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEAR,UACAM,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEAP,cACAK,UAAA,EAAAC,QAAA,SAAAC,QAAA,WAEAN,WACAI,UAAA,EAAAC,QAAA,QAAAC,QAAA,WAEAL,WACAG,UAAA,EAAAC,QAAA,SAAAC,QAAA,WAEAJ,OACAE,UAAA,EAAAC,QAAA,QAAAC,QAAA,YAGA5C,cACA6C,qBACAtC,aAAA,IAGAuC,QAAA,WACA1F,KAAA0E,KAAA1E,KAAA2F,OAAAC,MAAAC,KACA7F,KAAA8F,kBAEAC,SACAD,eADA,WACA,IAAAE,EAAAhG,KACAA,KAAAiG,WAAA,wBAAAjG,KAAA0E,MAAAwB,KAAA,SAAAC,GACAA,GAAA,MAAAA,EAAAC,SACAJ,EAAArB,SAAAwB,EAAAxD,KAAAgC,SACAqB,EAAApB,MAAAuB,EAAAxD,KAAAiC,MACAoB,EAAAnB,MAAAsB,EAAAxD,KAAAkC,MACAmB,EAAAlB,UAAAqB,EAAAxD,KAAAmC,cAIAuB,SAXA,WAWA,IAAAC,EAAAtG,KACAA,KAAAyE,SAAA,EACA,IAAA8B,EAAAvG,KAAAa,WACA0F,EAAAC,QAAAxG,KAAA8D,YACAyC,EAAA7C,SAAA1D,KAAA0D,SACA6C,EAAA7B,KAAA1E,KAAA0E,KACA1E,KAAAiG,WAAA,WAAAM,GAAAL,KAAA,SAAAC,GACAG,EAAA7B,SAAA,EACA0B,GAAA,MAAAA,EAAAC,SACAE,EAAA1D,WAAAuD,EAAAxD,KAAA8D,KACAH,EAAAtC,WAAAmC,EAAAxD,KAAAoB,UAIAG,cAzBA,SAyBAwC,GACA1G,KAAA8D,YAAA4C,EACA1G,KAAAqG,YAEAjC,WA7BA,SA6BAhB,GACApD,KAAA0D,SAAAN,EACApD,KAAAqG,YAEArD,sBAjCA,SAiCA2D,GACA3G,KAAAyF,kBAAAkB,EACA,IAAAA,EAAAC,OACA5G,KAAAmD,aAAA,EAEAnD,KAAAmD,aAAA,GAGAhB,SAzCA,WAyCA,IAAA0E,EAAA7G,KACAA,KAAA8G,MAAA,WAAAC,SAAA,SAAAC,GACA,IAAAA,EAGA,SAFAH,EAAAR,cAMAhE,QAlDA,WAoDArC,KAAA8G,MAAAjG,WAAAoG,eAEA5D,OAtDA,WAuDArD,KAAAkH,cAAAlH,KAAAyF,kBAAA,WAEAnC,SAzDA,WA0DAtD,KAAAkH,cAAAlH,KAAAyF,kBAAA,aAEAlC,QA5DA,WA6DAvD,KAAAkH,cAAAlH,KAAAyF,kBAAA,YAEAyB,cA/DA,SA+DAX,EAAAY,GAAA,IAAAC,EAAApH,KACAqH,EAAAd,EAAAe,IAAA,SAAAC,GAAA,OAAAA,EAAAC,SAAAC,KAAA,MACAC,EAAA,GAQAA,EAAA,gDANAA,EADA,WAAAP,EACA,OACA,aAAAA,EACA,OAEA,MAEA,WACAnH,KAAA2H,QAAA,QAAAD,EAAA,sBACAE,0BAAA,IACA1B,KAAA,SAAA2B,GAAA,IAAAvG,EAAAuG,EAAAvG,MACAsE,KACAA,EAAAyB,UACAzB,EAAAkC,IAAAX,EACAvB,EAAAlB,KAAA0C,EAAA1C,KACAkB,EAAAmC,QAAAzG,EAEAsE,EAAAoC,IAAAzB,EAAAe,IAAA,SAAAC,GAAA,OAAAA,EAAAS,MAAAP,KAAA,MACAL,EAAAa,YAAA,WAAArC,GAAAM,KAAA,SAAAC,GACAA,GAAA,MAAAA,EAAAC,OACA,IAAAD,EAAAxD,KAAAuF,MACAd,EAAAf,WACAe,EAAAe,UACA/G,KAAA,UACAmE,QAAA,YAGA6B,EAAAe,SAAAC,MAAAjC,EAAAxD,KAAA4C,SACA6B,EAAA3C,SAAA,IAGA2C,EAAAe,SAAAC,MAAA,SACAhB,EAAA3C,SAAA,KAGA2C,EAAA3C,SAAA,OEzOA5E,GATA,EAVA,SAAAwI,GACA9D,EAAA,SAaA,kBAEA,MAUA+D,EAAA,QAAAhE,EAAA","file":"static/js/2.70d9650fb5cfdf2010a6.js","sourcesContent":["<template>\r\n    <div class=\"secondMes\">\r\n        <el-form :inline=\"true\" align=\"left\" label-position=\"right\" label-width=\"80px\" :model=\"searchForm\" :rules=\"rules\" ref=\"searchForm\" class=\"demo-form-inline\">\r\n            <el-form-item label=\"时间从\" prop=\"starttime\">\r\n                <el-date-picker style=\"width:200px\" value-format=\"yyyy-MM-dd hh:mm:ss\" v-model=\"searchForm.starttime\" type=\"datetime\" placeholder=\"起始时间\"></el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"至\" prop=\"endtime\">\r\n                <el-date-picker style=\"width:200px\" value-format=\"yyyy-MM-dd hh:mm:ss\" v-model=\"searchForm.endtime\" type=\"datetime\" placeholder=\"截止时间\"></el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"项目名\" prop=\"projectName\">\r\n                <el-select v-model=\"searchForm.projectName\" placeholder=\"项目名\">\r\n                  <el-option\r\n                    v-for=\"item in projects\"\r\n                    :key=\"item\"\r\n                    :label=\"item\"\r\n                    :value=\"item\">\r\n                  </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"品名\" prop=\"itemName\">\r\n                <el-select v-model=\"searchForm.itemName\" placeholder=\"品名\">\r\n                  <el-option\r\n                    v-for=\"item in items\"\r\n                    :key=\"item\"\r\n                    :label=\"item\"\r\n                    :value=\"item\">\r\n                  </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <br>\r\n            <el-form-item label=\"模具号\" prop=\"modelNum\">\r\n                <el-input v-model=\"searchForm.modelNum\" placeholder=\"模具号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"穴号\" prop=\"hole\">\r\n                <el-select v-model=\"searchForm.hole\" placeholder=\"穴号\">\r\n                  <el-option\r\n                    v-for=\"item in holes\"\r\n                    :key=\"item\"\r\n                    :label=\"item\"\r\n                    :value=\"item\">\r\n                  </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"机台\" prop=\"machine\">\r\n                <el-input v-model=\"searchForm.machine\" placeholder=\"机台\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"状态\" prop=\"sfcStatus\">\r\n                <el-select v-model=\"searchForm.sfcStatus\" placeholder=\"状态\">\r\n                  <el-option\r\n                    v-for=\"item in sfcStatus\"\r\n                    :key=\"item.key\"\r\n                    :label=\"item.value\"\r\n                    :value=\"item.key\">\r\n                  </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button style=\"margin-left:66px\" icon=\"el-icon-search\" type=\"primary\" @click=\"onSearch\">查询</el-button>\r\n                <el-button icon=\"el-icon-error\" type=\"primary\" @click=\"onClear()\">清空</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-table v-loading=\"loading\" border stripe :data=\"tableData3\" empty-text=\"暂无数据(请输入条件后查询)\" tooltip-effect=\"dark\" @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" align=\"center\" width=\"55\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"sfc\" label=\"批次\" align=\"center\" width=\"120\">\r\n            </el-table-column>\r\n            <!-- <el-table-column prop=\"handle\" label=\"handle\" align=\"center\" width=\"120\">\r\n            </el-table-column> -->\r\n            <el-table-column prop=\"projectName\" label=\"项目名\" align=\"center\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"itemName\" label=\"品名\" align=\"left\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"model\" label=\"模具\" align=\"left\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"hole\" label=\"穴号\" align=\"left\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"resrce\" label=\"机台\" align=\"left\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"sfcstatus\" label=\"状态\" align=\"left\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"operation\" label=\"当前工序\" align=\"left\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"createTimeStr\" label=\"流程卡打印时间\" align=\"left\">\r\n            </el-table-column>\r\n        </el-table>\r\n        <br>\r\n        <el-row>\r\n            <el-col :span=\"8\" align=\"left\">\r\n                <el-button :disabled=\"btndisabled\" @click=\"freeze\" type=\"warning\" size=\"small\">批量冻结</el-button>\r\n                <el-button :disabled=\"btndisabled\" @click=\"unfreeze\" type=\"primary\" size=\"small\">批量解冻</el-button>\r\n                <el-button :disabled=\"btndisabled\" @click=\"discard\" type=\"danger\" size=\"small\">批量废弃</el-button>\r\n            </el-col>\r\n            <el-col :span=\"16\" align=\"right\">\r\n                <el-pagination background :page-size=\"pageSize\" :page-sizes=\"[50, 100, 150, 200]\" layout=\"total, sizes, prev, pager, next\" :current-page=\"currentPage\" @current-change=\"currentChange\" @size-change=\"sizeChange\" :total=\"totalCount\">\r\n                </el-pagination>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      totalCount: -1,\r\n      currentPage: 1,\r\n      pageSize: 50,\r\n      site: '',\r\n      projects: [],\r\n      items: [],\r\n      holes: [],\r\n      sfcStatus: [],\r\n      searchForm: {\r\n        starttime: '',\r\n        endtime: '',\r\n        projectName: '',\r\n        itemName: '',\r\n        modelNum: '',\r\n        hole: '',\r\n        machine: ''\r\n      },\r\n      rules: {\r\n        starttime: [\r\n          { required: true, message: '请选择起始时间', trigger: 'change' }\r\n        ],\r\n        endtime: [\r\n          { required: true, message: '请选择截止时间', trigger: 'change' }\r\n        ],\r\n        projectName: [\r\n          { required: true, message: '请输入项目名', trigger: 'change' }\r\n        ],\r\n        itemName: [\r\n          { required: true, message: '请输入品名', trigger: 'change' }\r\n        ],\r\n        modelNum: [\r\n          { required: true, message: '请输入模具号', trigger: 'change' }\r\n        ],\r\n        hole: [\r\n          { required: true, message: '请输入穴号', trigger: 'change' }\r\n        ]\r\n      },\r\n      tableData3: [],\r\n      multipleSelection: [],\r\n      btndisabled: true\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.site = this.$route.query.info\r\n    this.initDictionary()\r\n  },\r\n  methods: {\r\n    initDictionary () {\r\n      this.getRequest('/sfc/dictionary?site=' + this.site).then(resp => {\r\n        if (resp && resp.status === 200) {\r\n          this.projects = resp.data.projects\r\n          this.items = resp.data.items\r\n          this.holes = resp.data.holes\r\n          this.sfcStatus = resp.data.sfcStatus\r\n        }\r\n      })\r\n    },\r\n    loadData () {\r\n      this.loading = true\r\n      let params = this.searchForm\r\n      params.pageNum = this.currentPage\r\n      params.pageSize = this.pageSize\r\n      params.site = this.site\r\n      this.getRequest('/sfc/all', params).then(resp => {\r\n        this.loading = false\r\n        if (resp && resp.status === 200) {\r\n          this.tableData3 = resp.data.list\r\n          this.totalCount = resp.data.total\r\n        }\r\n      })\r\n    },\r\n    currentChange (currentChange) {\r\n      this.currentPage = currentChange\r\n      this.loadData()\r\n    },\r\n    sizeChange (size) {\r\n      this.pageSize = size\r\n      this.loadData()\r\n    },\r\n    handleSelectionChange (val) {\r\n      this.multipleSelection = val\r\n      if (val.length === 0) {\r\n        this.btndisabled = true\r\n      } else {\r\n        this.btndisabled = false\r\n      }\r\n    },\r\n    onSearch () {\r\n      this.$refs['searchForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.loadData()\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    onClear () {\r\n      // console.info(this.$refs)\r\n      this.$refs.searchForm.resetFields()\r\n    },\r\n    freeze () {\r\n      this.confirmAndAct(this.multipleSelection, 'freeze')\r\n    },\r\n    unfreeze () {\r\n      this.confirmAndAct(this.multipleSelection, 'unfreeze')\r\n    },\r\n    discard () {\r\n      this.confirmAndAct(this.multipleSelection, 'discard')\r\n    },\r\n    confirmAndAct (params, action) {\r\n      let handles = params.map(s => { return s.handle }).join('**')\r\n      let actionStr = ''\r\n      if (action === 'freeze') {\r\n        actionStr = '批量冻结'\r\n      } else if (action === 'unfreeze') {\r\n        actionStr = '批量解冻'\r\n      } else {\r\n        actionStr = '废弃'\r\n      }\r\n      actionStr = '<span style=\"color:green;font-weight:bold\">[' + actionStr + ']</span>'\r\n      this.$prompt('确定要进行' + actionStr + '的操作吗?请输入操作备注:', '提示', {\r\n        dangerouslyUseHTMLString: true\r\n      }).then(({ value }) => {\r\n        var query = {}\r\n        query.handles = handles\r\n        query.tag = action\r\n        query.site = this.site\r\n        query.comment = value\r\n        // 废弃时需要传qty\r\n        query.qty = params.map(s => { return s.qty }).join('**')\r\n        this.postRequest('/sfc/act', query).then(resp => {\r\n          if (resp && resp.status === 200) {\r\n            if (resp.data.code === 0) {\r\n              this.loadData()\r\n              this.$message({\r\n                type: 'success',\r\n                message: '操作成功!'\r\n              })\r\n            } else {\r\n              this.$message.error(resp.data.message)\r\n              this.loading = false\r\n            }\r\n          } else {\r\n            this.$message.error('服务器错误')\r\n            this.loading = false\r\n          }\r\n        })\r\n        this.loading = true\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.secondMes {\r\n  width: 96%;\r\n  margin-left: 2%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/secondMes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"secondMes\"},[_c('el-form',{ref:\"searchForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"align\":\"left\",\"label-position\":\"right\",\"label-width\":\"80px\",\"model\":_vm.searchForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"时间从\",\"prop\":\"starttime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"200px\"},attrs:{\"value-format\":\"yyyy-MM-dd hh:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"起始时间\"},model:{value:(_vm.searchForm.starttime),callback:function ($$v) {_vm.$set(_vm.searchForm, \"starttime\", $$v)},expression:\"searchForm.starttime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"至\",\"prop\":\"endtime\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"200px\"},attrs:{\"value-format\":\"yyyy-MM-dd hh:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"截止时间\"},model:{value:(_vm.searchForm.endtime),callback:function ($$v) {_vm.$set(_vm.searchForm, \"endtime\", $$v)},expression:\"searchForm.endtime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目名\",\"prop\":\"projectName\"}},[_c('el-select',{attrs:{\"placeholder\":\"项目名\"},model:{value:(_vm.searchForm.projectName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"projectName\", $$v)},expression:\"searchForm.projectName\"}},_vm._l((_vm.projects),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品名\",\"prop\":\"itemName\"}},[_c('el-select',{attrs:{\"placeholder\":\"品名\"},model:{value:(_vm.searchForm.itemName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"itemName\", $$v)},expression:\"searchForm.itemName\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模具号\",\"prop\":\"modelNum\"}},[_c('el-input',{attrs:{\"placeholder\":\"模具号\"},model:{value:(_vm.searchForm.modelNum),callback:function ($$v) {_vm.$set(_vm.searchForm, \"modelNum\", $$v)},expression:\"searchForm.modelNum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"穴号\",\"prop\":\"hole\"}},[_c('el-select',{attrs:{\"placeholder\":\"穴号\"},model:{value:(_vm.searchForm.hole),callback:function ($$v) {_vm.$set(_vm.searchForm, \"hole\", $$v)},expression:\"searchForm.hole\"}},_vm._l((_vm.holes),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"机台\",\"prop\":\"machine\"}},[_c('el-input',{attrs:{\"placeholder\":\"机台\"},model:{value:(_vm.searchForm.machine),callback:function ($$v) {_vm.$set(_vm.searchForm, \"machine\", $$v)},expression:\"searchForm.machine\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"sfcStatus\"}},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.searchForm.sfcStatus),callback:function ($$v) {_vm.$set(_vm.searchForm, \"sfcStatus\", $$v)},expression:\"searchForm.sfcStatus\"}},_vm._l((_vm.sfcStatus),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.value,\"value\":item.key}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-left\":\"66px\"},attrs:{\"icon\":\"el-icon-search\",\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-error\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.onClear()}}},[_vm._v(\"清空\")])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.tableData3,\"empty-text\":\"暂无数据(请输入条件后查询)\",\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sfc\",\"label\":\"批次\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"projectName\",\"label\":\"项目名\",\"align\":\"center\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"itemName\",\"label\":\"品名\",\"align\":\"left\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"model\",\"label\":\"模具\",\"align\":\"left\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hole\",\"label\":\"穴号\",\"align\":\"left\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resrce\",\"label\":\"机台\",\"align\":\"left\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sfcstatus\",\"label\":\"状态\",\"align\":\"left\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"operation\",\"label\":\"当前工序\",\"align\":\"left\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTimeStr\",\"label\":\"流程卡打印时间\",\"align\":\"left\"}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8,\"align\":\"left\"}},[_c('el-button',{attrs:{\"disabled\":_vm.btndisabled,\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.freeze}},[_vm._v(\"批量冻结\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"disabled\":_vm.btndisabled,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.unfreeze}},[_vm._v(\"批量解冻\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"disabled\":_vm.btndisabled,\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.discard}},[_vm._v(\"批量废弃\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16,\"align\":\"right\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.pageSize,\"page-sizes\":[50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next\",\"current-page\":_vm.currentPage,\"total\":_vm.totalCount},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62efe2db\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/secondMes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62efe2db\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./secondMes.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./secondMes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./secondMes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62efe2db\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./secondMes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62efe2db\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/secondMes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}